import{s as _}from"./QList.75f2559b.js";import{a as w,b as y}from"./QTable.3955027c.js";import{M as v,u as x,aq as k,N as f,_ as n,O as h,P as C,Q as s,ar as T,$ as z,a1 as q,Z as i,f as p,Y as b}from"./index.8b788384.js";import{u as B}from"./vue-i18n.esm-bundler.57d8ef58.js";import"./use-router-link.8c525c89.js";import"./QBtn.50bd9958.js";import"./rtl.4c467228.js";const L={key:1},V={class:"text-center text-h2",style:{margin:"2rem"}},$=v({__name:"ClubsView",props:{season:null,division:null,category:null},setup(m){const r=m,{t:o}=B(),a=x();k(async()=>{await a.loadSeason(r.season)});const g=f(()=>[{name:"name",label:o("clubLabel"),field:e=>e.club_id===void 0?"_":a.clubs[e.club_id].name,format:e=>e==="_"?o("noClub"):e,align:"left",sortable:!0,sort:(e,t)=>e==="_"?t==="_"?0:1:t==="_"?e==="_"?0:-1:e.localeCompare(t)},{name:"no-fencers",label:o("noFencersLabel"),field:e=>e.fencers.length,align:"right",sortable:!0},{name:"points",label:o("pointsLabel"),field:e=>e.points,align:"right",sortable:!0},{name:"points-per-fencer",label:o("pointsPerFencerLabel"),field:e=>e.points/e.fencers.length,format:e=>(Math.round(e*10)/10).toString(),align:"right",sortable:!0}]),l=f(()=>{var e;if(a.laddersClub!==void 0){const t=(e=a.laddersClub[r.division])==null?void 0:e[r.category];return t===void 0?null:t}});let c={width:"100%",height:"300px"};function d(){c.height=window.innerHeight-98+"px"}return window.addEventListener("resize",d),d(),(e,t)=>n(l)!==null?(h(),C(w,{key:0,ref:"table",columns:n(g),rows:n(l),"row-key":"club_id",pagination:{rowsPerPage:0,sortBy:"name",descending:!1},loading:n(l)===void 0,"binary-state-sort":"","hide-bottom":"",square:"",style:T(n(c))},{"header-cell-points":s(u=>[p(y,{props:u},{default:s(()=>[b(i(u.col.label)+" ",1),p(_,null,{default:s(()=>[b(i(e.$t("clubsTable.pointsHeaderTooltip")),1)]),_:1})]),_:2},1032,["props"])]),_:1},8,["columns","rows","loading","style"])):(h(),z("div",L,[q("div",V,i(e.$t("noData")),1)]))}});export{$ as default};
