import{s as m}from"./QList.75f2559b.js";import{C as T,Q as _}from"./country-flag.esm.6e82cbba.js";import{Q as z}from"./QBtn.50bd9958.js";import{a as L}from"./QTable.3955027c.js";import{M as P,u as Q,aq as B,N as w,_ as o,O as r,P as f,Q as a,ar as D,$ as q,a1 as N,Z as s,f as i,Y as h}from"./index.8b788384.js";import{u as V}from"./vue-i18n.esm-bundler.57d8ef58.js";import"./use-router-link.8c525c89.js";import"./rtl.4c467228.js";const $={key:1},C={class:"text-center text-h2",style:{margin:"2rem"}},H=P({__name:"TournamentsView",props:{season:null,division:null,category:null},setup(v){const l=v,{t:n,d:k}=V(),c=Q();B(async()=>{await c.loadSeason(l.season)});const x=w(()=>[{name:"name",label:n("tournamentLabel"),field:t=>t.name,align:"left",sortable:!0},{name:"date",label:n("dateLabel"),field:t=>t.date,format:t=>k(t),align:"left",sortable:!0},{name:"country",label:n("countryLabel"),field:t=>t.country,align:"left",sortable:!0},{name:"noParticipants",label:n("noParticipantsLabel"),field:t=>t.noParticipants,align:"right",sortable:!0},{name:"coefficient",label:n("coefficientLabel"),field:t=>t.coefficient,align:"right",sortable:!0},{name:"hemaratings",label:n("hemaratingsLabel"),field:"",align:"center"}]),d=w(()=>{if(c.tournaments!==void 0)return Object.entries(c.tournaments).flatMap(t=>{var y;const b=t[0],e=t[1],u=(y=e.competitions[l.division])==null?void 0:y[l.category];return u===void 0?[]:[{id:b,name:e.name,date:e.date,country:e.country,coefficient:e.coefficient,noParticipants:u.no_participants,results:u.results}]})});let p={width:"100%",height:"300px"};function g(){p.height=window.innerHeight-50+"px"}return window.addEventListener("resize",g),g(),(t,b)=>o(d)!==null?(r(),f(L,{key:0,ref:"table",columns:o(x),rows:o(d),"row-key":"id",loading:o(d)===void 0,pagination:{rowsPerPage:0,sortBy:"date",descending:!1},"binary-state-sort":"","hide-bottom":"",square:"",style:D(o(p))},{"body-cell-country":a(e=>[i(_,{props:e},{default:a(()=>[i(o(T),{country:e.value,shadow:!0,size:"normal"},null,8,["country"]),i(m,null,{default:a(()=>[h(s(t.$t("countries."+e.value)),1)]),_:2},1024)]),_:2},1032,["props"])]),"body-cell-hemaratings":a(e=>[i(_,{props:e},{default:a(()=>[i(z,{href:"https://hemaratings.com/events/details/"+e.row.id,target:"_blank",icon:"mdi-open-in-new",flat:"",dense:"",round:"",disable:e.row.id.startsWith("-")},null,8,["href","disable"]),e.row.id.startsWith("-")?(r(),f(m,{key:0},{default:a(()=>[h(s(t.$t("hemaratingsNoDetailTooltip")),1)]),_:1})):(r(),f(m,{key:1},{default:a(()=>[h(s(t.$t("hemaratingsDetailTooltip")),1)]),_:1}))]),_:2},1032,["props"])]),_:1},8,["columns","rows","loading","style"])):(r(),q("div",$,[N("div",C,s(t.$t("noData")),1)]))}});export{H as default};
