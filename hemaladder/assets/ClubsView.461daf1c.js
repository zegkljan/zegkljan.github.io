import{s as _}from"./QList.bf2a4a90.js";import{a as w,b as y}from"./QTable.e23ddd5d.js";import{R as v,u as x,O as k,S as f,m as a,U as h,W as C,X as s,au as T,a4 as z,a6 as B,a2 as i,f as p,a1 as m}from"./index.df0fb126.js";import{u as L}from"./vue-i18n.esm-bundler.090c531d.js";import"./use-router-link.0f104a17.js";import"./QBtn.a5a1ec98.js";import"./rtl.ba00dd9a.js";const S={key:1},V={class:"text-center text-h2",style:{margin:"2rem"}},H=v({__name:"ClubsView",props:{season:null,division:null,category:null},setup(b){const l=b,{t:o}=L(),n=x();k(async()=>{await n.loadSeason(l.season)});const g=f(()=>[{name:"name",label:o("clubLabel"),field:e=>e.club_id===void 0?"_":n.clubs[e.club_id].name,format:e=>e==="_"?o("noClub"):e,align:"left",sortable:!0,sort:(e,t)=>e==="_"?t==="_"?0:1:t==="_"?e==="_"?0:-1:e.localeCompare(t)},{name:"no-fencers",label:o("noFencersLabel"),field:e=>e.fencers.length,align:"right",sortable:!0},{name:"points",label:o("pointsLabel"),field:e=>e.points,align:"right",sortable:!0},{name:"points-per-fencer",label:o("pointsPerFencerLabel"),field:e=>e.points/e.fencers.length,format:e=>(Math.round(e*10)/10).toString(),align:"right",sortable:!0}]),r=f(()=>{var e;if(n.laddersClub!==void 0){const t=(e=n.laddersClub[l.division])==null?void 0:e[l.category];return t===void 0?null:t}});let c={width:"100%",height:"300px"};function d(){c.height=window.innerHeight-98+"px"}return window.addEventListener("resize",d),d(),(e,t)=>a(r)!==null?(h(),C(w,{key:0,ref:"table",columns:a(g),rows:a(r),"row-key":"club_id",pagination:{rowsPerPage:0,sortBy:"name",descending:!1},loading:a(r)===void 0,"binary-state-sort":"","hide-bottom":"",square:"",style:T(a(c))},{"header-cell-points":s(u=>[p(y,{props:u},{default:s(()=>[m(i(u.col.label)+" ",1),p(_,null,{default:s(()=>[m(i(e.$t("clubsTable.pointsHeaderTooltip")),1)]),_:1})]),_:2},1032,["props"])]),_:1},8,["columns","rows","loading","style"])):(h(),z("div",S,[B("div",V,i(e.$t("noData")),1)]))}});export{H as default};
