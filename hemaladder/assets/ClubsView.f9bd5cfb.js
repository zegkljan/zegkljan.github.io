import{s as _}from"./QList.aaf70ef3.js";import{a as w,b as y}from"./QTable.b611993f.js";import{M as v,u as x,ao as k,N as f,_ as n,O as p,P as C,Q as s,ap as T,$ as z,a1 as B,Z as i,f as h,Y as b}from"./index.631c22df.js";import{u as L}from"./vue-i18n.esm-bundler.c64dfdd8.js";import"./use-router-link.1aac45d5.js";import"./QBtn.890232ed.js";import"./rtl.b6e0334c.js";const V={key:1},q={class:"text-center text-h2",style:{margin:"2rem"}},$=v({__name:"ClubsView",props:{season:null,division:null,category:null},setup(m){const l=m,{t:o}=L(),a=x();k(async()=>{await a.loadSeason(l.season)});const g=f(()=>[{name:"name",label:o("clubLabel"),field:e=>e.club_id===void 0?"_":a.clubs[e.club_id].name,format:e=>e==="_"?o("noClub"):e,align:"left",sortable:!0,sort:(e,t)=>e==="_"?t==="_"?0:1:t==="_"?e==="_"?0:-1:e.localeCompare(t)},{name:"no-fencers",label:o("noFencersLabel"),field:e=>e.fencers.length,align:"right",sortable:!0},{name:"points",label:o("pointsLabel"),field:e=>e.points,align:"right",sortable:!0},{name:"points-per-fencer",label:o("pointsPerFencerLabel"),field:e=>e.points/e.fencers.length,format:e=>(Math.round(e*10)/10).toString(),align:"right",sortable:!0}]),r=f(()=>{var e;if(a.laddersClub!==void 0){const t=(e=a.laddersClub[l.division])==null?void 0:e[l.category];return t===void 0?null:t}});let c={width:"100%",height:"300px"};function d(){c.height=window.innerHeight-98+"px"}return window.addEventListener("resize",d),d(),(e,t)=>n(r)!==null?(p(),C(w,{key:0,ref:"table",columns:n(g),rows:n(r),"row-key":"club_id",pagination:{rowsPerPage:0,sortBy:"name",descending:!1},loading:n(r)===void 0,"binary-state-sort":"","hide-bottom":"",square:"",style:T(n(c))},{"header-cell-points":s(u=>[h(y,{props:u},{default:s(()=>[b(i(u.col.label)+" ",1),h(_,null,{default:s(()=>[b(i(e.$t("clubsTable.pointsHeaderTooltip")),1)]),_:1})]),_:2},1032,["props"])]),_:1},8,["columns","rows","loading","style"])):(p(),z("div",V,[B("div",q,i(e.$t("noData")),1)]))}});export{$ as default};
