import{s as r}from"./QList.03baaf7d.js";import{Q as D}from"./use-router-link.48f21712.js";import{Q as m,C as $}from"./country-flag.esm.9cc53f21.js";import{Q as w}from"./QBtn.93945719.js";import{a as z}from"./QTable.1a2fee2a.js";import{M as L,u as N,as as P,N as k,_ as d,O as l,P as u,Q as a,at as x,$ as B,a1 as V,Z as o,f as n,Y as i,a2 as C}from"./index.9fee2214.js";import{u as q}from"./vue-i18n.esm-bundler.9f372e45.js";import"./rtl.8a0d094a.js";const E={key:1},I={class:"text-center text-h2",style:{margin:"2rem"}},U=L({__name:"TournamentsView",props:{season:null,division:null,category:null},setup(v){const f=v,{t:s,d:T}=q(),h=N();P(async()=>{await h.loadSeason(f.season)});const Q=k(()=>[{name:"name",label:s("tournamentLabel"),field:t=>t.name,align:"left",sortable:!0},{name:"date",label:s("dateLabel"),field:t=>t.date,format:t=>T(t),align:"left",sortable:!0},{name:"country",label:s("countryLabel"),field:t=>t.country,align:"left",sortable:!0},{name:"noParticipants",label:s("noParticipantsLabel"),field:t=>t.noParticipants,align:"right",sortable:!0},{name:"results",label:s("resultsLabel"),field:"",align:"center"},{name:"hemaratings",label:s("hemaratingsLabel"),field:"",align:"center"}]),p=k(()=>{if(h.tournaments!==void 0)return Object.entries(h.tournaments).flatMap(t=>{var _;const y=t[0],e=t[1],c=(_=e.competitions[f.division])==null?void 0:_[f.category];return c===void 0?[]:[{id:y,name:e.name,date:e.date,country:e.country,championship:e.championship,noParticipants:c.no_participants,results:c.results,results_link:c.results_link}]})});let b={width:"100%",height:"300px"};function g(){b.height=window.innerHeight-98+"px"}return window.addEventListener("resize",g),g(),(t,y)=>d(p)!==null?(l(),u(z,{key:0,ref:"table",columns:d(Q),rows:d(p),"row-key":"id",loading:d(p)===void 0,pagination:{rowsPerPage:0,sortBy:"date",descending:!1},"binary-state-sort":"","hide-bottom":"",square:"",style:x(d(b))},{"body-cell-name":a(e=>[n(m,{props:e},{default:a(()=>[i(o(e.value)+" ",1),e.row.championship?(l(),u(D,{key:0,name:"mdi-trophy"},{default:a(()=>[n(r,null,{default:a(()=>[i(o(t.$t("championship")),1)]),_:1})]),_:1})):C("",!0)]),_:2},1032,["props"])]),"body-cell-country":a(e=>[n(m,{props:e},{default:a(()=>[n(d($),{country:e.value,shadow:!0,size:"normal"},null,8,["country"]),n(r,null,{default:a(()=>[i(o(t.$t("countries."+e.value)),1)]),_:2},1024)]),_:2},1032,["props"])]),"body-cell-results":a(e=>[n(m,{props:e},{default:a(()=>[n(w,{href:e.row.results_link,target:"_blank",icon:"mdi-open-in-new",flat:"",dense:"",round:"",disable:e.row.results_link===void 0},null,8,["href","disable"]),e.row.id.startsWith("-")?(l(),u(r,{key:0},{default:a(()=>[i(o(t.$t("resultsNoDetailTooltip")),1)]),_:1})):(l(),u(r,{key:1},{default:a(()=>[i(o(t.$t("resultsDetailTooltip")),1)]),_:1}))]),_:2},1032,["props"])]),"body-cell-hemaratings":a(e=>[n(m,{props:e},{default:a(()=>[n(w,{href:"https://hemaratings.com/events/details/"+e.row.id,target:"_blank",icon:"mdi-open-in-new",flat:"",dense:"",round:"",disable:e.row.id.startsWith("-")},null,8,["href","disable"]),e.row.id.startsWith("-")?(l(),u(r,{key:0},{default:a(()=>[i(o(t.$t("hemaratingsNoDetailTooltip")),1)]),_:1})):(l(),u(r,{key:1},{default:a(()=>[i(o(t.$t("hemaratingsDetailTooltip")),1)]),_:1}))]),_:2},1032,["props"])]),_:1},8,["columns","rows","loading","style"])):(l(),B("div",E,[V("div",I,o(t.$t("noData")),1)]))}});export{U as default};
